<!--
  Generated template for the PersonDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="my">
    <ion-title>个人资料</ion-title>
    <ion-buttons end>
      <button ion-button type="submit" (click)="savePerson(personForm.value)" [disabled]="!personForm.valid">保存</button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <form [formGroup]="personForm" novalidate>
    <ion-list class="list" *ngIf="user">
      <ion-item>
        <div class="img-box" (click)="addPhoto(0)">
          <img class="avatar-img" [src]="userAvatar" alt="头像">
        </div>
      </ion-item>

      <!-- <ion-item class="item-input" formControlName="name">
      <ion-label class="item-key">用户名</ion-label>
      <ion-input type="text" [(ngModel)]="user.Name" clearInput></ion-input>
    </ion-item> -->

      <ion-item>
        <div style="display: flex">
          <div style="flex: 1">
            <p class="item-key">性别</p>
          </div>
          <div style="flex: 2.7">
            <label>
              <input type="radio" name="sex" value="男" formControlName="sex"> 男
            </label>
            <label>
              <input type="radio" name="sex" value="女" formControlName="sex" checked> 女
            </label>
          </div>
        </div>
      </ion-item>

      <ion-item>
        <ion-label class="item-key">真实姓名</ion-label>
        <ion-input type="text" formControlName="realName" clearInput></ion-input>
      </ion-item>
      <div class="error-hint" *ngIf="realName.hasError('required')">* 请输入真实姓名</div>

      <ion-item>
        <ion-label class="item-key">身份证号</ion-label>
        <ion-input type="number" formControlName="identityCard" clearInput></ion-input>
      </ion-item>
      <div class="error-hint" *ngIf="identityCard.hasError('required')">* 请输入身份证号</div>
      <div class="error-hint" *ngIf="identityCard.hasError('minlength') || identityCard.hasError('maxlength') || identityCard.hasError('pattern')">* 身份证号格式不正确</div>

      <ion-item>
        <ion-label class="item-key">手机号码</ion-label>
        <ion-input type="tel" formControlName="phone" clearInput></ion-input>
      </ion-item>
      <div class="error-hint" *ngIf="phone.hasError('required')">* 请输入手机号码</div>
      <div class="error-hint" *ngIf="phone.hasError('minlength') || phone.hasError('maxlength') || phone.hasError('pattern')">* 手机号码格式不正确</div>

      <ion-item>
        <ion-label class="item-key">通讯地址</ion-label>
        <ion-input type="text" formControlName="address" clearInput></ion-input>
      </ion-item>

      <ion-item>
        <p class="item-key">身份证</p>
        <div class="img-box">
          <div class="idcard">
            <p>正面</p>
            <img [src]="idCardFront" alt="身份证正面" (click)="addPhoto(1)">
          </div>
          <div class="idcard">
            <p>反面</p>
            <img [src]="idCardBack" alt="身份证反面" (click)="addPhoto(2)">
          </div>
        </div>
      </ion-item>

      <ion-item>
        <p class="item-key">健康证</p>
        <div class="img-box health-img-box" (click)="addPhoto(3)">
          <img class="health-img" [src]="healthCertificate" alt="健康证">
        </div>
      </ion-item>
    </ion-list>
  </form>

</ion-content>

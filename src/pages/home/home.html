<ion-header>
  <ion-navbar color="my">
    <ion-title>主页</ion-title>
    <ion-buttons end>
      <button ion-button (click)="openPage('MessageListPage')">
        <ion-icon name="text"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="home-content">
  <!-- <div class="home-content-text">
    <h2 class="welcome">欢迎使用<br><br>星加酒店Job！</h2>
    <br>
    <br>
  </div> -->
  <ion-slides #homeslides class="banners-box" pager [slidesPerView]="1" autoplay="600" speed="1500" loop="true">
    <ion-slide *ngFor="let item of banners">
      <div>
        <img [src]="item.imgSrc" class="slide-image" />
      </div>
    </ion-slide>
  </ion-slides>

  <ion-grid class="grid-menu">
    <ion-row class="row" wrap *ngFor="let row of gridMenu">
      <ion-col *ngFor="let item of row.cols" width-20 (click)="openPageFromMenu(item)">
        <ion-icon class="avatars-icon" *ngIf="!item.isImage" [name]="item.icon" [color]="item.color"></ion-icon>
        <img *ngIf="item.isImage" class="avatars-img" [src]="item.imageUrl">
        <p class="col-title">{{item.title}}</p>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h3 class="no-records" *ngIf="noRecords">{{whyEmpty}}</h3>
  <ion-list *ngIf="!noRecords">
    <ion-item *ngFor="let item of orders" (click)="openRoomCheck(item)" [ngClass]="{'item-finished': item.GrabStatus=='已结束'}">
      <!-- <ion-avatar class="finish" item-end>
        <div>
          <button ion-button block color="danger" small (click)="finishWork(item, true)" *ngIf="item.Status!=0">终止</button>
          <button ion-button block class="go-comment-btn" small (click)="finishWork(item, true)" *ngIf="item.Status==0 && item.HotelEvaluate==null">评价</button>
        </div>
        <div>
          <button ion-button block color="danger" small clear *ngIf="item.Status==0">已终止</button>
          <button ion-button block class="show-comment-btn" small (click)="finishWork(item, false)" *ngIf="item.Status==0 && item.HotelEvaluate!=null">查看评论</button>
        </div>
      </ion-avatar> -->
      <h2>{{item.Order.HotelName}}</h2>
      <h3>{{item.Order.DepartMentName}} - {{item.Order.WorkTypeName}}</h3>
      <p>{{item.Order.Billing}} | {{item.Order.Start | date:"yyyy-MM-dd"}}</p> 
      <label class="grab-status" [ngClass]="{'grab-status-finished': item.GrabStatus=='已结束'}" item-end >{{item.GrabStatus}}</label>
    </ion-item>
  </ion-list>
</ion-content>
